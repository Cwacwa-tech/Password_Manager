(()=>{"use strict";function e(e){console.log(`${e} form detected!!!`)}function t(e){var t,i,n,o,l,r;const s=e.querySelector('input[type="password"], input[name*="pass"], input[id*="pass"]');if(!s)return!1;const u=['input[type="text"][name*="user" i]','input[id*="user" i]','input[placeholder*="user" i]','input[type="text"][name*="userid" i]','input[id*="userid" i]','input[placeholder*="userid" i]','input[type="text"][name*="user_id" i]','input[id*="user_id" i]','input[placeholder*="user_id" i]','input[type="text"][name*="user-id" i]','input[id*="user-id" i]','input[placeholder*="user-id" i]','input[type="text"][name*="id" i]','input[id*="id" i]','input[placeholder*="id" i]','input[type="text"][name*="account" i]','input[id*="account" i]','input[placeholder*="account" i]','input[type="text"][name*="login" i]','input[id*="login" i]','input[placeholder*="login" i]','input[type="email"]','input[name*="email" i]','input[id*="email" i]','input[placeholder*="email" i]'].some((t=>null!==e.querySelector(t))),d=Array.from(e.querySelectorAll("label")).some((e=>{var t;const i=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"";return i.includes("user id")||i.includes("userid")||i.includes("user-id")||i.includes("user_id")||i.includes("id")||"id"===i})),a=["log in","sign in","login","signin","authenticate","continue","submit","go"],c=["sign up","signup","register","create account","join now","get started"],p=Array.from(e.querySelectorAll('button, input[type="submit"], a.btn, a[role="button"]')),y=p.some((e=>{var t,i,n,o;const l=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"",r=(null===(i=e.value)||void 0===i?void 0:i.toLowerCase().trim())||"",s=(null===(n=e.id)||void 0===n?void 0:n.toLowerCase())||"",u=(null===(o=e.className)||void 0===o?void 0:o.toLowerCase())||"";return a.some((e=>l.includes(e)||r.includes(e)||s.includes(e)||u.includes(e)))})),m=p.some((e=>{var t,i;const n=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"",o=(null===(i=e.value)||void 0===i?void 0:i.toLowerCase().trim())||"";return c.some((e=>n.includes(e)||o.includes(e)))})),v=null!==e.querySelector('input[name*="confirm" i]')||null!==e.querySelector('input[placeholder*="confirm" i]')||null!==e.querySelector('input[name*="signup" i]')||null!==e.querySelector('input[name*="sign-up" i]'),g="search"===e.getAttribute("role")||(null===(t=e.id)||void 0===t?void 0:t.toLowerCase().includes("search"))||(null===(i=e.className)||void 0===i?void 0:i.toLowerCase().includes("search"))||null!==e.querySelector('input[type="search"]')||null!==e.querySelector('input[name*="search" i]')||null!==e.querySelector('input[placeholder*="search" i]'),h=(null===(n=e.getAttribute("action"))||void 0===n?void 0:n.toLowerCase())||"",f=(null===(o=e.id)||void 0===o?void 0:o.toLowerCase())||"",b=(null===(l=e.className)||void 0===l?void 0:l.toLowerCase())||"",C=(null===(r=e.getAttribute("method"))||void 0===r||r.toLowerCase(),h.includes("login")||h.includes("signin")||h.includes("auth")||f.includes("login")||f.includes("signin")||f.includes("auth")||b.includes("login")||b.includes("signin")||b.includes("auth")),x=Array.from(e.querySelectorAll("h1, h2, h3, h4, h5, h6, legend")).some((e=>{var t;const i=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"";return i.includes("login")||i.includes("sign in")||i.includes("log in")||i.includes("authenticate")}));return s&&(u||d||y||C||x)&&!m&&!v&&!g}function i(e){var t,i,n,o,l;const r=e.querySelector('input[type="password"], input[name*="pass"], input[id*="pass"]');if(!r)return!1;const s=["sign up","signup","register","create account","join now","get started","create"],u=Array.from(e.querySelectorAll('button, input[type="submit"], a.btn, a[role="button"]')).some((e=>{var t,i,n,o;const l=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"",r=(null===(i=e.value)||void 0===i?void 0:i.toLowerCase().trim())||"",u=(null===(n=e.id)||void 0===n?void 0:n.toLowerCase())||"",d=(null===(o=e.className)||void 0===o?void 0:o.toLowerCase())||"";return s.some((e=>l.includes(e)||r.includes(e)||u.includes(e)||d.includes(e)))})),d=null!==e.querySelector('input[name*="confirm" i]')||null!==e.querySelector('input[placeholder*="confirm" i]')||null!==e.querySelector('input[name*="signup" i]')||null!==e.querySelector('input[name*="sign-up" i]')||null!==e.querySelector('input[name*="register" i]'),a="search"===e.getAttribute("role")||(null===(t=e.id)||void 0===t?void 0:t.toLowerCase().includes("search"))||(null===(i=e.className)||void 0===i?void 0:i.toLowerCase().includes("search"))||null!==e.querySelector('input[type="search"]')||null!==e.querySelector('input[name*="search" i]')||null!==e.querySelector('input[placeholder*="search" i]'),c=(null===(n=e.getAttribute("action"))||void 0===n?void 0:n.toLowerCase())||"",p=(null===(o=e.id)||void 0===o?void 0:o.toLowerCase())||"",y=(null===(l=e.className)||void 0===l?void 0:l.toLowerCase())||"",m=c.includes("signup")||c.includes("register")||c.includes("create")||p.includes("signup")||p.includes("register")||p.includes("create")||y.includes("signup")||y.includes("register")||y.includes("create"),v=Array.from(e.querySelectorAll("h1, h2, h3, h4, h5, h6, legend")).some((e=>{var t;const i=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"";return i.includes("sign up")||i.includes("signup")||i.includes("register")||i.includes("create account")||i.includes("join")}));return r&&(u||d||m||v)&&!a}function n(e){var t,i,n,l;const r=e.querySelector('input[type="password"]');r&&!r.dataset.filled&&(o(r,"LOVE"),r.dataset.filled="true",console.debug("Filled password input with 'LOVE':",r));const s=['input[type="text"][name*="user" i]','input[id*="user" i]','input[placeholder*="user" i]','input[type="text"][name*="userid" i]','input[id*="userid" i]','input[placeholder*="userid" i]','input[type="text"][name*="user_id" i]','input[id*="user_id" i]','input[placeholder*="user_id" i]','input[type="text"][name*="user-id" i]','input[id*="user-id" i]','input[placeholder*="user-id" i]','input[type="text"][name*="id" i]','input[id*="id" i]','input[placeholder*="id" i]','input[type="text"][name*="account" i]','input[id*="account" i]','input[placeholder*="account" i]','input[type="text"][name*="login" i]','input[id*="login" i]','input[placeholder*="login" i]','input[type="email"]','input[name*="email" i]','input[id*="email" i]','input[placeholder*="email" i]','input[type="text"]'];let u=!1;for(const l of s){const r=e.querySelectorAll(l);for(const e of Array.from(r))if(!(e.dataset.filled||"hidden"===e.type||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes("search"))||(null===(i=e.id)||void 0===i?void 0:i.toLowerCase().includes("search"))||(null===(n=e.placeholder)||void 0===n?void 0:n.toLowerCase().includes("search")))){o(e,"LOVE"),e.dataset.filled="true",console.debug(`Filled ${e.name||e.id||"user identifier"} input with 'LOVE':`,e),u=!0;break}if(u)break}if(!u){const t=e.querySelectorAll("label");for(const e of Array.from(t)){const t=(null===(l=e.textContent)||void 0===l?void 0:l.toLowerCase().trim())||"";if(t.includes("user")||t.includes("id")||t.includes("email")||t.includes("login")||t.includes("account")){let i=null;if(i=e.htmlFor?document.getElementById(e.htmlFor):e.querySelector('input[type="text"], input[type="email"]'),i&&!i.dataset.filled){o(i,"LOVE"),i.dataset.filled="true",console.debug(`Filled labeled input (${t}) with 'LOVE':`,i),u=!0;break}}}}if(!u&&r){const t=e.querySelector('input[type="text"]:not([data-filled])');t&&(o(t,"LOVE"),t.dataset.filled="true",console.debug("Filled first text input with 'LOVE':",t))}}function o(e,t){var i;if(e.disabled||e.readOnly)return;const n=null===(i=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))||void 0===i?void 0:i.set;n?n.call(e,t):e.value=t,["input","change","keydown","keyup"].forEach((t=>{let i;i="keydown"===t||"keyup"===t?new KeyboardEvent(t,{bubbles:!0,cancelable:!0,key:"L"}):new Event(t,{bubbles:!0}),e.dispatchEvent(i)})),e.focus(),setTimeout((()=>{e.blur()}),100)}function l(e,t){const i=function(e){const t=window.location.hostname,i=e.querySelector('input[type="password"]'),n=i?i.value:"";let o="";const l=['input[type="email"]','input[name*="email" i]','input[id*="email" i]','input[type="text"][name*="user" i]','input[id*="user" i]','input[name*="login" i]','input[id*="login" i]'];for(const t of l){const i=e.querySelector(t);if(i&&i.value){o=i.value;break}}return{site:t,username:o,password:n,timestamp:(new Date).toISOString()}}(e),n=document.createElement("div");n.style.position="fixed",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.backgroundColor="white",n.style.padding="20px",n.style.borderRadius="5px",n.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.3)",n.style.zIndex="9999",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center",n.style.minWidth="300px";const o=document.createElement("h3");o.textContent="Save Credentials?",o.style.marginBottom="15px",o.style.fontSize="18px",o.style.fontWeight="bold",n.appendChild(o);const l=document.createElement("div");l.style.width="100%",l.style.marginBottom="20px",l.style.padding="10px",l.style.backgroundColor="#f5f5f5",l.style.borderRadius="4px",l.style.border="1px solid #ddd",n.appendChild(l);const r=document.createElement("div");r.style.marginBottom="8px",r.style.fontSize="14px",r.innerHTML=`<strong>Site:</strong> ${i.site}`,l.appendChild(r);const s=document.createElement("div");s.style.marginBottom="8px",s.style.fontSize="14px",s.innerHTML=`<strong>Username:</strong> ${i.username||"[empty]"}`,l.appendChild(s);const u=document.createElement("div");u.style.fontSize="14px",u.innerHTML=`<strong>Password:</strong> ${"â€¢".repeat(Math.min(i.password.length,8))}`,l.appendChild(u);const d=document.createElement("div");d.style.display="flex",d.style.gap="10px",n.appendChild(d);const a=document.createElement("div");a.style.marginTop="10px",a.style.padding="5px",a.style.borderRadius="4px",a.style.fontSize="14px",a.style.textAlign="center",a.style.display="none",n.appendChild(a);const c=document.createElement("button");c.textContent="Yes",c.style.padding="8px 16px",c.style.backgroundColor="#4CAF50",c.style.border="2px solid #000000",c.style.borderRadius="4px",c.style.color="white",c.style.cursor="pointer",c.style.transition="all 0.2s ease",d.appendChild(c);const p=document.createElement("button");p.textContent="No",p.style.padding="8px 16px",p.style.backgroundColor="#f44336",p.style.border="2px solid #000000",p.style.borderRadius="4px",p.style.color="white",p.style.cursor="pointer",p.style.transition="all 0.2s ease",d.appendChild(p),c.addEventListener("mousedown",(()=>{c.style.backgroundColor="#3B8C3E",c.style.transform="scale(0.95)"})),p.addEventListener("mousedown",(()=>{p.style.backgroundColor="#D32F2F",p.style.transform="scale(0.95)"})),c.addEventListener("mouseover",(()=>{c.style.backgroundColor="#45A049"})),c.addEventListener("mouseout",(()=>{c.style.backgroundColor="#4CAF50",c.style.transform="scale(1)"})),p.addEventListener("mouseover",(()=>{p.style.backgroundColor="#E53935"})),p.addEventListener("mouseout",(()=>{p.style.backgroundColor="#f44336",p.style.transform="scale(1)"})),c.addEventListener("click",(()=>{chrome.runtime.sendMessage({action:"saveCredentials",data:i},(e=>{console.log("Credentials saved status:",e),e.success?"Password already saved!"===e.message?(a.textContent="This password was already saved!",a.style.backgroundColor="#FFF3CD",a.style.color="#856404",a.style.border="1px solid #FFEEBA",a.style.display="block",setTimeout((()=>{document.body.removeChild(n),t(!0)}),1500)):(a.textContent="Credentials saved successfully!",a.style.backgroundColor="#D4EDDA",a.style.color="#155724",a.style.border="1px solid #C3E6CB",a.style.display="block",setTimeout((()=>{document.body.removeChild(n),t(!0)}),1500)):(a.textContent="Failed to save credentials.",a.style.backgroundColor="#F8D7DA",a.style.color="#721C24",a.style.border="1px solid #F5C6CB",a.style.display="block",setTimeout((()=>{document.body.removeChild(n),t(!1)}),1500))}))})),p.addEventListener("click",(()=>{document.body.removeChild(n),t(!1)})),document.body.appendChild(n)}function r(e){const t=e.querySelectorAll("input[required], select[required], textarea[required]");return 0===t.length?Array.from(e.querySelectorAll("input, select, textarea")).filter((e=>{const t=e,i=window.getComputedStyle(t);return"none"!==i.display&&"hidden"!==i.visibility&&"hidden"!==t.type&&"submit"!==t.type&&"button"!==t.type})).every((e=>!!s(e)&&""!==e.value.trim())):Array.from(t).every((e=>{const t=e;return!!s(t)&&""!==t.value.trim()}))}function s(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement}function u(e){"true"!==e.dataset.submitHandlerAttached&&(e.dataset.submitHandlerAttached="true",e.querySelectorAll('button[type="submit"], input[type="submit"], button:not([type]), [role="button"]').forEach((t=>{t.addEventListener("click",(function(t){r(e)&&(t.preventDefault(),t.stopPropagation(),l(e,(e=>{e?console.log("Password saved"):console.log("Password not saved")})))}))})),"FORM"===e.tagName&&e.addEventListener("submit",(function(t){r(e)&&(t.preventDefault(),t.stopPropagation(),l(e,(e=>{e?console.log("Password saved"):console.log("Password not saved")})))})))}function d(o){if(o.nodeType===Node.ELEMENT_NODE){const l=o;"FORM"===l.tagName?t(l)?(n(l),e("Login form")):i(l)&&(e("Signup form"),u(l)):l.querySelector('input[type="password"]')&&(t(l)?(n(l),e("Login container")):i(l)&&(e("Signup container"),u(l)))}}new MutationObserver(function(){let e;return(...t)=>{clearTimeout(e),e=setTimeout((()=>(e=>{e.forEach((e=>{e.addedNodes.length>0?e.addedNodes.forEach(d):e.target.nodeType===Node.ELEMENT_NODE&&d(e.target)}))})(...t)),100)}}()).observe(document,{attributes:!0,attributeFilter:["class","style","hidden"],characterData:!1,childList:!0,subtree:!0}),document.querySelectorAll("form").forEach(d),document.querySelectorAll("div, section, main, fieldset").forEach((e=>{e.querySelector('input[type="password"]')&&d(e)}))})();
//# sourceMappingURL=content.js.map