(()=>{"use strict";var e={799:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setBadgeText=function(e){const t=e?"ON":"OFF";chrome.action.setBadgeText({text:t})},t.simulateUserInput=function(e,t){var n;if(e.disabled||e.readOnly)return;const o=null===(n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value"))||void 0===n?void 0:n.set;o?o.call(e,t):e.value=t,["input","change","keydown","keyup"].forEach((t=>{let n;n="keydown"===t||"keyup"===t?new KeyboardEvent(t,{bubbles:!0,cancelable:!0,key:"L"}):new Event(t,{bubbles:!0}),e.dispatchEvent(n)})),e.focus(),setTimeout((()=>{e.blur()}),100)}},252:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.collectCredentials=function(e){const t=window.location.hostname,n=e.querySelector('input[type="password"]'),o=n?n.value:"";let l="";const s=['input[type="email"]','input[name*="email" i]','input[id*="email" i]','input[type="text"][name*="user" i]','input[id*="user" i]','input[name*="login" i]','input[id*="login" i]'];for(const t of s){const n=e.querySelector(t);if(n&&n.value){l=n.value;break}}return{site:t,username:l,password:o,timestamp:(new Date).toISOString()}},t.autofillCredentials=function(e,t,n){const l=e.querySelector('input[type="password"]');l&&(0,o.simulateUserInput)(l,n);const s=['input[type="email"]','input[name*="email" i]','input[id*="email" i]','input[type="text"][name*="user" i]','input[id*="user" i]','input[name*="login" i]','input[id*="login" i]'];for(const n of s){const l=e.querySelector(n);if(l){(0,o.simulateUserInput)(l,t);break}}};const o=n(799)},884:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showConfirmationPopup=function(e,t){const n=(0,o.collectCredentials)(e),l=document.createElement("div");l.style.position="fixed",l.style.top="50%",l.style.left="50%",l.style.transform="translate(-50%, -50%)",l.style.backgroundColor="white",l.style.padding="20px",l.style.borderRadius="5px",l.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.3)",l.style.zIndex="9999",l.style.display="flex",l.style.flexDirection="column",l.style.alignItems="center",l.style.minWidth="300px",l.style.position="relative";const s=document.createElement("div");s.textContent="✕",s.style.position="absolute",s.style.top="10px",s.style.right="10px",s.style.cursor="pointer",s.style.fontSize="18px",s.style.fontWeight="bold",s.style.color="#000",s.style.backgroundColor="#f0f0f0",s.style.borderRadius="50%",s.style.width="22px",s.style.height="22px",s.style.display="flex",s.style.justifyContent="center",s.style.alignItems="center",s.style.lineHeight="1",s.style.transition="all 0.2s ease",l.appendChild(s),s.addEventListener("mouseover",(()=>{s.style.color="#000"})),s.addEventListener("mouseout",(()=>{s.style.color="#555"}));const i=e=>{document.body.contains(l)&&document.body.removeChild(l),t(e)};s.addEventListener("click",(()=>{i(!1)}));const r=document.createElement("h3");r.textContent="Save Credentials?",r.style.marginBottom="15px",r.style.fontSize="18px",r.style.fontWeight="bold",l.appendChild(r);const d=document.createElement("div");d.style.width="100%",d.style.marginBottom="20px",d.style.padding="10px",d.style.backgroundColor="#f5f5f5",d.style.borderRadius="4px",d.style.border="1px solid #ddd",l.appendChild(d);const a=document.createElement("div");a.style.marginBottom="8px",a.style.fontSize="14px",a.innerHTML=`<strong>Site:</strong> ${n.site}`,d.appendChild(a);const u=document.createElement("div");u.style.marginBottom="8px",u.style.fontSize="14px",u.innerHTML=`<strong>Username:</strong> ${n.username||"[empty]"}`,d.appendChild(u);const c=document.createElement("div");c.style.fontSize="14px",c.innerHTML=`<strong>Password:</strong> ${"•".repeat(n.password.length)}`,d.appendChild(c);const p=document.createElement("div");p.style.display="flex",p.style.gap="10px",l.appendChild(p);const y=document.createElement("div");y.style.marginTop="10px",y.style.padding="5px",y.style.borderRadius="4px",y.style.fontSize="14px",y.style.textAlign="center",y.style.display="none",l.appendChild(y);const m=document.createElement("button");m.textContent="Yes",m.style.padding="8px 16px",m.style.backgroundColor="#4CAF50",m.style.border="2px solid #000000",m.style.borderRadius="4px",m.style.color="white",m.style.cursor="pointer",m.style.transition="all 0.2s ease",p.appendChild(m);const g=document.createElement("button");g.textContent="No",g.style.padding="8px 16px",g.style.backgroundColor="#f44336",g.style.border="2px solid #000000",g.style.borderRadius="4px",g.style.color="white",g.style.cursor="pointer",g.style.transition="all 0.2s ease",p.appendChild(g),m.addEventListener("mousedown",(()=>{m.style.backgroundColor="#3B8C3E",m.style.transform="scale(0.95)"})),g.addEventListener("mousedown",(()=>{g.style.backgroundColor="#D32F2F",g.style.transform="scale(0.95)"})),m.addEventListener("mouseover",(()=>{m.style.backgroundColor="#45A049"})),m.addEventListener("mouseout",(()=>{m.style.backgroundColor="#4CAF50",m.style.transform="scale(1)"})),g.addEventListener("mouseover",(()=>{g.style.backgroundColor="#E53935"})),g.addEventListener("mouseout",(()=>{g.style.backgroundColor="#f44336",g.style.transform="scale(1)"})),m.addEventListener("click",(()=>{m.disabled=!0,g.disabled=!0,s.style.pointerEvents="none",chrome.runtime.sendMessage({action:"saveCredentials",data:n},(e=>{console.log("Credentials saved status:",e),e.success?"Password already saved!"===e.message?(y.textContent="This password was already saved!",y.style.backgroundColor="#FFF3CD",y.style.color="#856404",y.style.border="1px solid #FFEEBA",y.style.display="block",setTimeout((()=>{i(!0)}),1500)):(y.textContent="Credentials saved successfully!",y.style.backgroundColor="#D4EDDA",y.style.color="#155724",y.style.border="1px solid #C3E6CB",y.style.display="block",setTimeout((()=>{i(!0)}),1500)):(y.textContent="Failed to save credentials.",y.style.backgroundColor="#F8D7DA",y.style.color="#721C24",y.style.border="1px solid #F5C6CB",y.style.display="block",setTimeout((()=>{i(!1)}),1500))}))})),g.addEventListener("click",(()=>{i(!1)})),document.body.appendChild(l)},t.showPasswordSuggestionPopup=function(e){chrome.runtime.sendMessage({action:"generate_password"},(t=>{if(!(null==t?void 0:t.password))return void console.error("Failed to generate password:",null==t?void 0:t.error);const n=t.password,o=document.createElement("div");o.style.position="absolute",o.style.top=`${e.getBoundingClientRect().bottom+window.scrollY+5}px`,o.style.left=`${e.getBoundingClientRect().left+window.scrollX}px`,o.style.backgroundColor="white",o.style.padding="15px",o.style.borderRadius="5px",o.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.3)",o.style.zIndex="9999",o.style.display="flex",o.style.flexDirection="column",o.style.minWidth="250px";const s=document.createElement("h4");s.textContent="Suggested Password",s.style.marginTop="0",s.style.marginBottom="10px",s.style.fontSize="16px",s.style.fontWeight="bold",o.appendChild(s);const i=document.createElement("button");i.textContent="✕",i.style.position="absolute",i.style.top="5px",i.style.right="5px",i.style.backgroundColor="transparent",i.style.border="none",i.style.fontSize="16px",i.style.cursor="pointer",i.onclick=()=>document.body.removeChild(o),o.appendChild(i);const r=document.createElement("div");r.style.padding="8px",r.style.backgroundColor="#f5f5f5",r.style.borderRadius="4px",r.style.border="1px solid #ddd",r.style.marginBottom="10px",r.style.fontFamily="monospace",r.style.wordBreak="break-all",r.textContent=n,o.appendChild(r);const d=document.createElement("button");d.textContent="Auto-fill",d.style.padding="8px",d.style.backgroundColor="#4285F4",d.style.border="none",d.style.borderRadius="4px",d.style.color="white",d.style.cursor="pointer",d.onclick=()=>{(0,l.simulateUserInput)(e,n),document.body.removeChild(o)},o.appendChild(d),document.body.appendChild(o)}))},t.showCredentialSelectionPopup=function(e,t){const n=document.createElement("div");n.style.position="fixed",n.style.top="50%",n.style.left="50%",n.style.transform="translate(-50%, -50%)",n.style.backgroundColor="white",n.style.padding="20px",n.style.borderRadius="5px",n.style.boxShadow="0 0 10px rgba(0, 0, 0, 0.3)",n.style.zIndex="9999",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center",n.style.minWidth="300px",n.style.maxHeight="400px",n.style.overflowY="auto",n.style.position="relative";const l=document.createElement("h3");l.textContent="Saved Credentials",l.style.marginBottom="15px",l.style.fontSize="18px",l.style.fontWeight="bold",n.appendChild(l);const s=document.createElement("div");s.textContent="✕",s.style.position="absolute",s.style.top="10px",s.style.right="10px",s.style.cursor="pointer",s.style.fontSize="18px",s.style.fontWeight="bold",s.style.color="#000",s.style.backgroundColor="#f0f0f0",s.style.borderRadius="50%",s.style.width="22px",s.style.height="22px",s.style.display="flex",s.style.justifyContent="center",s.style.alignItems="center",s.style.lineHeight="1",s.style.transition="all 0.2s ease",n.appendChild(s),s.addEventListener("mouseover",(()=>{s.style.color="#000"})),s.addEventListener("mouseout",(()=>{s.style.color="#555"})),s.addEventListener("click",(()=>{document.body.contains(n)&&document.body.removeChild(n)})),e.forEach((e=>{const l=document.createElement("div");l.style.width="100%",l.style.marginBottom="10px",l.style.padding="10px",l.style.backgroundColor="#f5f5f5",l.style.borderRadius="4px",l.style.border="1px solid #ddd";const s=document.createElement("div");s.style.marginBottom="8px",s.style.fontSize="14px",s.innerHTML=`<strong>Username:</strong> ${e.username||"[empty]"}`,l.appendChild(s);const i=document.createElement("div");i.style.fontSize="14px",i.innerHTML=`<strong>Password:</strong> ${"•".repeat(Math.min(e.password.length,8))}`,l.appendChild(i);const r=document.createElement("button");r.textContent="Auto-fill",r.style.marginTop="8px",r.style.padding="5px 10px",r.style.backgroundColor="#4285F4",r.style.border="none",r.style.borderRadius="4px",r.style.color="white",r.style.cursor="pointer",r.style.transition="all 0.2s ease",r.addEventListener("mouseover",(()=>{r.style.backgroundColor="#3367D6"})),r.addEventListener("mouseout",(()=>{r.style.backgroundColor="#4285F4",r.style.transform="scale(1)"})),r.addEventListener("mousedown",(()=>{r.style.backgroundColor="#2A56C6",r.style.transform="scale(0.95)"})),r.onclick=()=>{(0,o.autofillCredentials)(t,e.username,e.password),document.body.contains(n)&&document.body.removeChild(n)},l.appendChild(r),n.appendChild(l)})),document.body.appendChild(n)};const o=n(252),l=n(799)}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,n),s.exports}(()=>{const e=n(884);function t(e){console.log(`${e} form detected!!!`)}function o(e){var t,n,o,l,s,i;const r=e.querySelector('input[type="password"], input[name*="pass"], input[id*="pass"]');if(!r)return!1;const d=['input[type="text"][name*="user" i]','input[id*="user" i]','input[placeholder*="user" i]','input[type="text"][name*="userid" i]','input[id*="userid" i]','input[placeholder*="userid" i]','input[type="text"][name*="user_id" i]','input[id*="user_id" i]','input[placeholder*="user_id" i]','input[type="text"][name*="user-id" i]','input[id*="user-id" i]','input[placeholder*="user-id" i]','input[type="text"][name*="id" i]','input[id*="id" i]','input[placeholder*="id" i]','input[type="text"][name*="account" i]','input[id*="account" i]','input[placeholder*="account" i]','input[type="text"][name*="login" i]','input[id*="login" i]','input[placeholder*="login" i]','input[type="email"]','input[name*="email" i]','input[id*="email" i]','input[placeholder*="email" i]'].some((t=>null!==e.querySelector(t))),a=Array.from(e.querySelectorAll("label")).some((e=>{var t;const n=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"";return n.includes("user id")||n.includes("userid")||n.includes("user-id")||n.includes("user_id")||n.includes("id")||"id"===n})),u=["log in","sign in","login","signin","authenticate","continue","submit","go"],c=["sign up","signup","register","create account","join now","get started"],p=Array.from(e.querySelectorAll('button, input[type="submit"], a.btn, a[role="button"]')),y=p.some((e=>{var t,n,o,l;const s=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"",i=(null===(n=e.value)||void 0===n?void 0:n.toLowerCase().trim())||"",r=(null===(o=e.id)||void 0===o?void 0:o.toLowerCase())||"",d=(null===(l=e.className)||void 0===l?void 0:l.toLowerCase())||"";return u.some((e=>s.includes(e)||i.includes(e)||r.includes(e)||d.includes(e)))})),m=p.some((e=>{var t,n;const o=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"",l=(null===(n=e.value)||void 0===n?void 0:n.toLowerCase().trim())||"";return c.some((e=>o.includes(e)||l.includes(e)))})),g=null!==e.querySelector('input[name*="confirm" i]')||null!==e.querySelector('input[placeholder*="confirm" i]')||null!==e.querySelector('input[name*="signup" i]')||null!==e.querySelector('input[name*="sign-up" i]'),v="search"===e.getAttribute("role")||(null===(t=e.id)||void 0===t?void 0:t.toLowerCase().includes("search"))||(null===(n=e.className)||void 0===n?void 0:n.toLowerCase().includes("search"))||null!==e.querySelector('input[type="search"]')||null!==e.querySelector('input[name*="search" i]')||null!==e.querySelector('input[placeholder*="search" i]'),h=(null===(o=e.getAttribute("action"))||void 0===o?void 0:o.toLowerCase())||"",f=(null===(l=e.id)||void 0===l?void 0:l.toLowerCase())||"",b=(null===(s=e.className)||void 0===s?void 0:s.toLowerCase())||"",x=(null===(i=e.getAttribute("method"))||void 0===i||i.toLowerCase(),h.includes("login")||h.includes("signin")||h.includes("auth")||f.includes("login")||f.includes("signin")||f.includes("auth")||b.includes("login")||b.includes("signin")||b.includes("auth")),C=Array.from(e.querySelectorAll("h1, h2, h3, h4, h5, h6, legend")).some((e=>{var t;const n=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"";return n.includes("login")||n.includes("sign in")||n.includes("log in")||n.includes("authenticate")}));return r&&(d||a||y||x||C)&&!m&&!g&&!v}function l(e){var t,n,o,l,s;const i=e.querySelector('input[type="password"], input[name*="pass"], input[id*="pass"]');if(!i)return!1;const r=["sign up","signup","register","create account","join now","get started","create"],d=Array.from(e.querySelectorAll('button, input[type="submit"], a.btn, a[role="button"]')).some((e=>{var t,n,o,l;const s=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"",i=(null===(n=e.value)||void 0===n?void 0:n.toLowerCase().trim())||"",d=(null===(o=e.id)||void 0===o?void 0:o.toLowerCase())||"",a=(null===(l=e.className)||void 0===l?void 0:l.toLowerCase())||"";return r.some((e=>s.includes(e)||i.includes(e)||d.includes(e)||a.includes(e)))})),a=null!==e.querySelector('input[name*="confirm" i]')||null!==e.querySelector('input[placeholder*="confirm" i]')||null!==e.querySelector('input[name*="signup" i]')||null!==e.querySelector('input[name*="sign-up" i]')||null!==e.querySelector('input[name*="register" i]'),u="search"===e.getAttribute("role")||(null===(t=e.id)||void 0===t?void 0:t.toLowerCase().includes("search"))||(null===(n=e.className)||void 0===n?void 0:n.toLowerCase().includes("search"))||null!==e.querySelector('input[type="search"]')||null!==e.querySelector('input[name*="search" i]')||null!==e.querySelector('input[placeholder*="search" i]'),c=(null===(o=e.getAttribute("action"))||void 0===o?void 0:o.toLowerCase())||"",p=(null===(l=e.id)||void 0===l?void 0:l.toLowerCase())||"",y=(null===(s=e.className)||void 0===s?void 0:s.toLowerCase())||"",m=c.includes("signup")||c.includes("register")||c.includes("create")||p.includes("signup")||p.includes("register")||p.includes("create")||y.includes("signup")||y.includes("register")||y.includes("create"),g=Array.from(e.querySelectorAll("h1, h2, h3, h4, h5, h6, legend")).some((e=>{var t;const n=(null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase().trim())||"";return n.includes("sign up")||n.includes("signup")||n.includes("register")||n.includes("create account")||n.includes("join")}));return i&&(d||a||m||g)&&!u}function s(n){t("Login form"),function(e){const t=window.location.hostname;chrome.runtime.sendMessage({action:"getCredentials",site:t},(t=>{(null==t?void 0:t.success)&&t.credentials?e(t.credentials):(console.error("Failed to retrieve credentials:",null==t?void 0:t.error),e(null))}))}((t=>{t&&t.length>0?(0,e.showCredentialSelectionPopup)(t,n):i(n)}))}function i(t){t.querySelectorAll('input[type="password"]').forEach((t=>{const n=t;"true"!==n.dataset.listenerAdded&&(n.addEventListener("click",(()=>{(0,e.showPasswordSuggestionPopup)(n)})),n.dataset.listenerAdded="true")}))}function r(e){const t=e.querySelectorAll("input[required], select[required], textarea[required]");return 0===t.length?Array.from(e.querySelectorAll("input, select, textarea")).filter((e=>{const t=e,n=window.getComputedStyle(t);return"none"!==n.display&&"hidden"!==n.visibility&&"hidden"!==t.type&&"submit"!==t.type&&"button"!==t.type})).every((e=>!!d(e)&&""!==e.value.trim())):Array.from(t).every((e=>{const t=e;return!!d(t)&&""!==t.value.trim()}))}function d(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement}function a(t){"true"!==t.dataset.submitHandlerAttached&&(t.dataset.submitHandlerAttached="true",t.querySelectorAll('button[type="submit"], input[type="submit"], button:not([type]), [role="button"]').forEach((n=>{n.addEventListener("click",(function(n){r(t)&&(n.preventDefault(),n.stopPropagation(),(0,e.showConfirmationPopup)(t,(e=>{e?console.log("Password saved"):console.log("Password not saved")})))}))})),"FORM"===t.tagName&&t.addEventListener("submit",(function(n){r(t)&&(n.preventDefault(),n.stopPropagation(),(0,e.showConfirmationPopup)(t,(e=>{e?console.log("Password saved"):console.log("Password not saved")})))})))}function u(e){if(e.nodeType===Node.ELEMENT_NODE){const n=e;"FORM"===n.tagName?o(n)?s(n):l(n)&&(t("Signup form"),a(n),i(n)):n.querySelector('input[type="password"]')&&(o(n)?s(n):l(n)&&(t("Signup container"),a(n),i(n)))}}new MutationObserver(function(){let e;return(...t)=>{clearTimeout(e),e=setTimeout((()=>(e=>{e.forEach((e=>{e.addedNodes.length>0?e.addedNodes.forEach(u):e.target.nodeType===Node.ELEMENT_NODE&&u(e.target)}))})(...t)),100)}}()).observe(document,{attributes:!0,attributeFilter:["class","style","hidden"],characterData:!1,childList:!0,subtree:!0}),document.querySelectorAll("form").forEach(u),document.querySelectorAll("div, section, main, fieldset").forEach((e=>{e.querySelector('input[type="password"]')&&u(e)}))})()})();
//# sourceMappingURL=content.js.map